<template>
  <div class="mine_page">
    <!-- é¡¶éƒ¨æ¸å˜èƒŒæ™¯ -->
    <div class="header_gradient">
      <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
      <div class="user_info_section">
        <image class="user_avatar" src="/assets/img1/å®¹å™¨@3x(2).jpg"></image>
        <text class="user_name">å°èŠ±åŒ </text>
        <div class="user_id_container">
          <text class="id_label">ID</text>
          <text class="id_number">1234567890</text>
        </div>
      </div>
    </div>

    <!-- åŠŸèƒ½åˆ—è¡¨åŒºåŸŸ -->
    <div class="content_section">
      <div class="menu_list">
        <!-- éšç§æ”¿ç­– -->
        <div class="menu_item" onclick="openPrivacy">
          <div class="menu_left">
            <div class="menu_icon privacy_icon">
              <text class="icon_text">ğŸ›¡ï¸</text>
            </div>
            <text class="menu_title">éšç§æ”¿ç­–</text>
          </div>
          <text class="menu_arrow">â€º</text>
        </div>

        <!-- ç”¨æˆ·åè®® -->
        <div class="menu_item" onclick="openAgreement">
          <div class="menu_left">
            <div class="menu_icon agreement_icon">
              <text class="icon_text">ğŸ“‹</text>
            </div>
            <text class="menu_title">ç”¨æˆ·åè®®</text>
          </div>
          <text class="menu_arrow">â€º</text>
        </div>
      </div>
    </div>

    <!-- åº•éƒ¨å¯¼èˆªæ  -->
    <v-tabs current-index="{{3}}" tab-bar="{{tabBar}}" @change-current-index="_changeCurrentIndex"></v-tabs>
  </div>
</template>

<import name="v-tabs" src="../../components/tab/index.ux"></import>

<script>
import router from '@system.router'

export default {
  data() {
    return {
      userName: 'å°èŠ±åŒ ',
      userId: '1234567890',
      tabBar: {
        color: '#666666',
        active_color: '#00BCD4',
        tabs: [
          {
            title: 'æµ‹è¯„',
            default_icon: '/assets/images/tab_test.svg',
            active_icon: '/assets/images/tab_test_active.svg'
          },
          {
            title: 'å®‰å…¨',
            default_icon: '/assets/images/tab_safety.svg',
            active_icon: '/assets/images/tab_safety_active.svg'
          },
          {
            title: 'çŸ¥è¯†',
            default_icon: '/assets/images/tab_knowledge.svg',
            active_icon: '/assets/images/tab_knowledge_active.svg'
          },
          {
            title: 'æˆ‘çš„',
            default_icon: '/assets/images/tab_mine.svg',
            active_icon: '/assets/images/tab_mine_active.svg'
          }
        ]
      }
    }
  },

  onInit() {
    console.log('Mineé¡µé¢åˆå§‹åŒ–')
  },

  _changeCurrentIndex(evt) {
    const index = evt.detail
    console.log('åˆ‡æ¢å¯¼èˆªæ ï¼Œç´¢å¼•:', index)
    
    if (index === 0) {
      router.replace({ uri: '/pages/Test' })
    } else if (index === 1) {
      router.replace({ uri: '/pages/Safety' })
    } else if (index === 2) {
      router.replace({ uri: '/pages/Knowledge' })
    } else if (index === 3) {
      // å½“å‰é¡µé¢ï¼Œä¸éœ€è¦è·³è½¬
    }
  },

  openPrivacy() {
    console.log('æ‰“å¼€éšç§æ”¿ç­–')
    router.push({
      uri: '/pages/Webview',
      params: {
        title: 'éšç§æ”¿ç­–',
        url: 'https://api.51dsp.cn/index/privacy.do?pn=com.zjfenghecp.windseed'
      }
    })
  },

  openAgreement() {
    console.log('æ‰“å¼€ç”¨æˆ·åè®®')
    router.push({
      uri: '/pages/Webview',
      params: {
        title: 'ç”¨æˆ·åè®®',
        url: 'https://api.51dsp.cn/index/agreement.do?pn=com.zjfenghecp.windseed'
      }
    })
  }
}
</script>

<style>
.mine_page {
  flex-direction: column;
  width: 100%;
  height: 100%;
  background: linear-gradient(180deg, #A8E6FF 0%, #E8D5FF 100%);
}

.header_gradient {
  width: 100%;
  padding: 80px 40px 60px 40px;
  flex-direction: column;
  align-items: center;
}

.user_info_section {
  flex-direction: column;
  align-items: center;
}

.user_avatar {
  width: 160px;
  height: 160px;
  border-radius: 80px;
  border-width: 6px;
  border-color: #ffffff;
  margin-bottom: 24px;
}

.user_name {
  font-size: 44px;
  color: #333333;
  font-weight: bold;
  margin-bottom: 16px;
}

.user_id_container {
  flex-direction: row;
  align-items: center;
  background-color: rgba(255, 255, 255, 0.6);
  padding: 12px 32px;
  border-radius: 24px;
  border-width: 2px;
  border-color: #5FC3E4;
}

.id_label {
  font-size: 28px;
  color: #5FC3E4;
  font-weight: bold;
  margin-right: 12px;
}

.id_number {
  font-size: 28px;
  color: #5FC3E4;
  font-weight: 500;
}

.content_section {
  width: 100%;
  padding: 0 40px;
  padding-bottom: 180px;
  margin-top: 20px;
}

.menu_list {
  width: 100%;
  background-color: #ffffff;
  border-radius: 24px;
  flex-direction: column;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.menu_item {
  width: 100%;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  padding: 28px 40px;
  border-bottom-width: 1px;
  border-bottom-color: #F0F0F0;
}

.menu_left {
  flex-direction: row;
  align-items: center;
  flex: 1;
}

.menu_icon {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  align-items: center;
  justify-content: center;
  margin-right: 24px;
}

.privacy_icon {
  background-color: #E3F2FD;
}

.agreement_icon {
  background-color: #E8F5E9;
}

.icon_text {
  font-size: 36px;
}

.menu_title {
  font-size: 32px;
  color: #333333;
  font-weight: 500;
}

.menu_arrow {
  font-size: 56px;
  color: #CCCCCC;
  font-weight: 300;
}
</style>
