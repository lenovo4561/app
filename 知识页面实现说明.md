# 抑郁症知识页面实现说明

## 功能概述

实现了"知识"导航栏的完整功能,包括:

- 从 Word 文档提取抑郁症知识内容
- 结构化数据存储
- 独立的知识展示页面
- 选项卡切换功能

## 实现步骤

### 1. 数据提取和处理

- **脚本**: `scripts/readDepressionDoc.js`

  - 使用 mammoth 库读取`抑郁症全面知识解析.docx`
  - 提取纯文本内容保存到`scripts/depression_content.txt`

- **脚本**: `scripts/parseDepressionData.js`
  - 解析文本内容
  - 结构化为 6 个知识模块:
    1. 核心定义
    2. 病因分析
    3. 核心症状
    4. 诊断标准
    5. 治疗方式
    6. 预防调节
  - 生成 JS 数据文件

### 2. 数据文件

- **路径**: `src/helper/depressionKnowledgeData.js`
- **结构**:
  ```javascript
  {
    title: "走进抑郁症",
    introduction: "引言文本...",
    tabs: [...], // 6个选项卡配置
    sections: {
      definition: {...},
      causes: {...},
      symptoms: {...},
      diagnosis: {...},
      treatment: {...},
      prevention: {...}
    }
  }
  ```

### 3. 知识页面

- **路径**: `src/pages/Knowledge/index.ux`
- **功能**:
  - 顶部 banner 展示
  - 引言内容展示
  - 6 个选项卡切换
  - 动态内容渲染(段落、小标题、列表、高亮)
  - 响应式设计,支持滚动浏览

### 4. 路由配置

- **文件**: `src/manifest.json`
- 添加 Knowledge 页面路由
- 配置页面显示属性(无标题栏)

### 5. Home 页面集成

- **文件**: `src/pages/Home/index.ux`
- 修改知识 tab 内容,添加跳转卡片
- 实现`goToKnowledge()`方法跳转到知识页面
- 添加样式美化

### 6. 资源文件

- `src/assets/images/knowledge_icon.svg` - 知识图标
- `src/assets/images/safety_icon.svg` - 安全图标

## UI 设计特点

### 知识页面(Knowledge)

1. **顶部区域**:

   - Banner 图片展示
   - 大标题"走进抑郁症"

2. **引言卡片**:

   - 白色卡片背景
   - 圆角设计
   - 阴影效果

3. **选项卡导航**:

   - 横向排列,支持换行
   - 圆角按钮设计
   - 选中态高亮(蓝色背景)
   - 未选中态灰色背景

4. **内容展示区**:
   - 大标题
   - 段落文本(首行缩进)
   - 小标题(蓝色加粗)
   - 列表项(圆点标记)
   - 高亮文本框(浅蓝背景+左侧蓝条)

### Home 页面-知识 Tab

1. **Banner 区域**:

   - 图片背景
   - 半透明遮罩
   - 标题和副标题

2. **跳转卡片**:
   - 白色卡片
   - 左侧图标
   - 中间文字信息
   - 右侧箭头按钮

## 使用方法

### 开发调试

1. 确保安装 mammoth 依赖:

   ```bash
   cd kyy
   npm install mammoth
   ```

2. 如需重新提取文档内容:

   ```bash
   cd scripts
   node readDepressionDoc.js
   node parseDepressionData.js
   ```

3. 编译运行项目:
   ```bash
   npm run build
   npm run server
   ```

### 页面访问

- 在首页点击底部"知识"导航
- 在知识 Tab 点击"抑郁症全面知识解析"卡片
- 进入独立的知识页面
- 点击不同选项卡查看各模块内容

## 技术栈

- 快应用框架
- mammoth (Word 文档解析)
- SVG 图标
- CSS Less 预处理器

## 注意事项

1. 图片路径使用了占位符,实际使用时请替换为真实图片
2. 数据文件使用 export default 语法,需要快应用支持 ES6 模块
3. 样式单位为 px,designWidth 设为 1080
4. 页面支持 list 滚动,适配各种内容长度

## 扩展建议

1. 可以添加更多知识模块
2. 可以实现内容搜索功能
3. 可以添加收藏/分享功能
4. 可以添加音频/视频讲解
5. 可以添加相关测评入口
